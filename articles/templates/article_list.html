{% load taggit_templatetags2_tags %}
{% get_tagcloud as tags for 'articles.Article' %}

<ul>
        <ul>
          {% for tag in tags %}
            <li><a href="{% url 'tagged' tag.slug %}">{{tag}}</a>({{tag.num_times}})</li>
          {% empty %}
            <li>No Tags</li>
          {% endfor %}
        </ul>
</ul>
	{% if request.user.is_authenticated %}
		<p>
		{{request.user}} 您已經登入囉~
			<a href="/accounts/logout/">登出</a>
		</p>

	{% else %}
		<p>您尚未登入喔~<a href="{% url 'django.contrib.auth.views.login' %}?next={{request.path}}">登入</a></p>
		或是<a href="/accounts/register/">註冊</a>成為會員
	{% endif %}
{% if request.user.is_authenticated %}
<a href="{% url 'create' %}">發表文章</a>
{% endif %}

{% for article in articles %}
	<h2><a href="{% url 'detail' pk=article.pk %}">{{ article.title }}</a></h2>
	<p>發文者 {{ article.author }}｜回應({{ article.comment_set.all|length }})｜{{ article.created }}</p>
	{% for tag in article.tags.all %}
		{{ tag.name }}
    {% endfor %}
{% endfor %}

